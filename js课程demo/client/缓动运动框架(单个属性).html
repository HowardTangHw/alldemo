<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			div{
				width: 100px;
				height: 100px;
				background-color: pink;
				position: absolute;
				top: 50px;
				left: 0;
			}
		</style>
	</head>
	<body>
		<button id="btn">点击</button>
		<div id="div"></div>
	</body>
</html>
<script>
	var btn =document.getElementById("btn");
	var box =document.getElementById("div");
	btn.onclick=function(){
		animate(box,"height",300);//一定要记得加引号
	}
	
	//单个属性修改封装
	function animate(obj,attr,target)
	{
		clearInterval(obj.timer);
		obj.timer =setInterval(function(){
			//leader=leader+(target-leader)/10;
			var leader =parseInt(getStyle(obj,attr));
			var step = (target-leader)/10;
			leader = leader +step;
			obj.style[attr]=leader+"px";
			if(leader==target)
			{
				clearInterval(obj,timer);
			}
		},30)
	}
	//获取当前样式
	function getStyle(obj,attr)
	{
		if(obj.currentStyle)
		{
			return obj.currentStyle[attr];
		}
		else
		{
			return window.getComputedStyle(obj,null)[attr];
		}
	}
</script>